package web

import (
	"github.com/gofiber/fiber/v2"
	"go-starter/internal/models"
	"go-starter/internal/utils"
)

templ Nav(c *fiber.Ctx) {
	<nav>
		<ul>
			if utils.GetLocal[models.User](c, "currentUser") != nil {
				<li><a href="/dashboard">Dashboard</a></li>
				<li><a href="/journal">My Journal</a></li>
				<li><a href="/journal/new">New Journal Entry</a></li>
				<li>
					<form
						hx-post="/api/auth/logout"
						hx-target="body"
						hx-push-url="/auth/login"
					>
						<button type="submit">Logout</button>
					</form>
				</li>
			} else {
				<li><a href="/auth/login">Sign in</a></li>
				<li><a href="/auth/register">Sign up</a></li>
			}
		</ul>
	</nav>
}
